# Address と Pointer
### **<u>変数のアドレス</u>**

- 変数はコンピューターのメモリの中にあるため **address** が存在する
  - **a** 変数　->　**&a** と記述
    - `変数アドレスを取得することができる`

- <u>これにより変数の値がメモリ中のどこに存在するかを知る事ができる</u>

### **<u>sizeof 演算子</u>**
- **sizeof(サイズオブ)** 演算子は、変数や型のメモリのサイズを取得する演算子
- ( ) の中に変数や型を記述すれば size を byte単位で取得可能
- *各変数はメモリ空間に適切な大きさで割り振られている*
  - *1byte, 4byte, 8byte... etc*

### **<u>pointer</u>**
- 言語には address を入れる事を前提とした変数が存在する
- 先頭に　**＊**　(アスタリスク)をつける事でその変数が **pointer 変数** であることを示す
  - `pointer　＝　場所を指すモノ　＝　address`

### **<u>通常変数・pointer 比較(int型の場合)</u>**
- *宣言*
  - 通常変数　->　`int a;`
  - pointer　->　`int *p;`
    - *pointer 変数は、変数の先頭に **＊** をつける*

- *値*
  - 通常変数　->　`a`
  - pointer　->　`*p;`
    - *pointer 変数で値を示すには、変数の先頭に **＊** をつける必要がある*

- *address*
  - 通常変数　->　`&a`
  - pointer　->　`p`
    - *通常変数は値を入れるが前提だが、pointer 変数は **address** を入れる*

- *宣言*
  - 通常変数　->　`int a;`
  - pointer　->　`int *p;`
    - *pointer 変数は、変数の先頭に **＊** をつける*

### **<u>NULLによる初期化</u>**
- pointer 変数に　**NULL(ヌル)**　を入れて初期化
- NULL は, C言語で標準的に用いられる定数で,数値で言えば　**0**　を意味する
- 通常の　**pointer 変数は NULL で初期化する**　という習慣になっている
#### pointer 初期化(定義)
    int* p = NULL;
### <u>NULL pointer への Acssce</u>
- 初期化したまま何らかの変数の address を設定しなかった場合...
  - **compile error は出ないが 実行時 error が出て強制終了する**
## **<u>pointer に変数の address を代入</u>**
- *すでに存在する変数を指し示す*
  - **指し示した変数になりすます**

    | 番号  |   処理    |      処理内容       |            意味             |   a   |   b   |  *p   |
    | :---: | :-------: | :-----------------: | :-------------------------: | :---: | :---: | :---: |
    |   1   |  p = &a;  | pにaのadrressを代入 |    *pはaと同じモノになる    |  100  |  200  |  100  |
    |   2   | *p = 300; |    *pに300を代入    |   *pはaに等しいモノになる   |  300  |  200  |  300  |
    |   3   |  p = &b;  | pにbのadrressを代入 |    *pはbと同じモノになる    |  100  |  200  |  200  |
    |   4   | p = 400;  |    *pに400を代入    | *pはbと等しいので,bが変わる |  100  |  200  |  100  |

    - **<u>状況によって adrress が指し示したモノになりすます事ができる</u>**

### **<u>注意点</u>**
- pointer に変数 address を設定する時には,原則的に同じ型の pointer 変数でする
- **int a**　であれば　**int ＊p**,　**double d**　であれば　**double ＊pd**　といったように, 対応する型を合わせるようにする
> 型が違くても *compile error* にはならないが　`実行時に致命的な error`　になる可能性がある

### **<u>pointer と関数</u>**
- 引数に pointer を与える事により address を与えた変数の値を変更する事ができる

  - *通常, function(関数)での処理では, <u>変数は１つの戻り値しか返す事ができない</u>*

> **pointer を渡す事により実質複数の戻り値を持つ, もしくは引数を戻り値と同じように扱う事ができる関数を作成できる**
